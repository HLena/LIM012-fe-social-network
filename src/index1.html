<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0 maximun-scale=1.0, minimun-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://kit.fontawesome.com/4d354def31.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Shrikhand&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Courgette&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="./styles/css/style.css" type="text/css"/>
  <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
  <title>Eco-Chat...</title>
</head>

<body>

  <main id="container">
    <header>
      <nav>
        <div class="nav-bar">
          <i class="fa fa-bars menu-icon" aria-hidden="true"></i>
          <img class="logo" src="./img/eco-trans-white.png" >      
        </div>
        <ul id="menu">          
          <li class="option"><a href="#/home"><i class="fas fa-home"></i>Inicio</a></li>
          <li class="option">
            <a href="#/Profile">
              <img src="./img/login.png" class="user-photo">
              <span>Elena Gordillo</span> 
            </a>
          </li>
          <li class="option"><a href="#/login"><i class="fas fa-sign-out-alt"></i>Salir</a></li>
        </ul>
      </nav>
    </header>

    <section class="content">
      <div class="my-self">
        <img src="./img/login.png" class="user-photo">
        <span class="name-user">Elena Gordillo</span>
      </div>

      <section class="create-post-container">
        <div class="post-content">
          <textarea class="text-post" name="textarea"  placeholder="¿Qué estas pensando?"></textarea>
          <div class="photo-container">
          </div>
        </div>
        <div class="btn-container">
          <div class="btn" id="upload-img-btn">
            <input type="file" accept="image/*" id="upload-img" hidden="hidden" multiple>
            <i class="fa fa-picture-o" aria-hidden="true"></i>
            Foto
          </div>
          <div class="select-box">
            <div class="select-button cursor btn">
              <div class="selected-value">
                <i class="fa fa-globe" aria-hidden="true"></i>
              </div>
              <div class="chevrons">
                <i class="fas fa-chevron-down"></i>
              </div>
            </div>
            <div class="options">
              <div class="option"><i class="fa fa-globe" aria-hidden="true"></i> Público</div>
              <div class="option"><i class="fa fa-lock" aria-hidden="true"></i> Privado</div>
            </div>
          </div>
          <div class="btn post-btn">Publicar</div>
        </div>
      </section>


      <section class="post">

        <div class="post-header border">
          <img src="./img/login.png" class="post-user-photo">
          <div class="name-user-post">
            <spam class="name-user">
              Karen Gordillo
            </spam>
            <div class="row">          
              <small class="date-post"> 20/07/2020</small>          
              <div class="select-box">
              <div class="select-button btn cursor">
                <div class="selected-value">
                  <i class="fa fa-globe" aria-hidden="true"></i>
                </div>
                <div class="chevrons">
                  <i class="fas fa-chevron-down"></i>
                </div>
              </div>
              <div class="options">
                <div class="option"><i class="fa fa-globe" aria-hidden="true"></i> Público</div>
                <div class="option"><i class="fa fa-lock" aria-hidden="true"></i> Privado</div>
              </div>                                  
              </div>
            </div>
          </div>
          <div class="settings-post">
            
            <div class="select-box">
              <div class="select-button cursor btn">
                <div class="selected-value">
                  <i class="fa fa-ellipsis-v" aria-hidden="true"></i>            
                </div>                
              </div>
              <div class="options">
                <div class="option">
                  <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Editar
                </div>
                <div class="option">
                  <i class="far fa-trash-alt"></i>Delete
                </div>
              </div>
            </div>

          </div>
        </div>

        <div class="post-body border">
          <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eveniet voluptatibus fugiat laboriosam velit! Numquam, ullam asperiores. Non, voluptas eius optio sint eos fugit sit, ut earum, odit officia facilis itaque.</p>
        </div>
        <div class="post-likes border">
          <span id="num-likes" class="quantity-icon">2
            <i class="fa fa-heart cursor" aria-hidden="true"></i>
          </span>
          <span id="num-comments" class="quantity-icon">4
            <i class="fa fa-comment-o cursor" aria-hidden="true"></i>
          </span>
        </div>
        <div class="post-comments ">
          <div class="create-comment-container border">
            <img src="./img/login.png" class="post-user-photo">
            <textarea type="text" class="input-comment" placeholder="Escribre un comentario"></textarea>
          </div>
          <div class="comment-created">
            <img src="./img/login.png" class="post-user-photo">
            <span class="comment-text"> 
              <span class="name-user"> Elena Gordilo</span>
              Hoy es un hermoso dia para salir entre amigos a pasear y compartir momentos
              Hoy es un hermoso dia para salir entre amigos a pasear y compartir momentos
              Hoy es un hermoso dia para salir entre amigos a pasear y compartir momentos            
            </span>
          </div>
        </div>
      </section>

    </section>


  </main>
  <script>
    const hideOrShowMenu = () => {
      const menu = document.getElementById('menu');
      const state = menu.style.display;
      menu.style.display = (state === 'block') ? 'none' : 'block';
    };
    const menuBtn = document.querySelector('.menu-icon');
    menuBtn.addEventListener('click', hideOrShowMenu);
  // ----------------------------------------------------------
    const privacyBtns = document.querySelectorAll('.select-button');
    const optionsContainer = document.querySelectorAll('.options');
    
    for (let i = 0; i < privacyBtns.length; i+=1 ){
      privacyBtns[i].addEventListener('click', () =>{
        // optionsContainer[i] = document.querySelector('.options');
        const options = optionsContainer[i].querySelectorAll('.option');
        console.log(options);
        const state = optionsContainer[i].style.display;
        optionsContainer[i].style.display = (state === 'block') ? 'none' : 'block';
        options.forEach(option => {
          option.addEventListener('click', (e) => {
            console.log('accion');
            const childBtn = privacyBtns[i].firstElementChild;    
            childBtn.innerHTML = e.target.firstElementChild.outerHTML;
            optionsContainer[i].style.display = 'none';
          });
        });
      });      
    };


    // ----------------------load image--------------------

    const upImgBtn = document.getElementById('upload-img-btn');
    const upImg = document.getElementById('upload-img');
    const container = document.querySelector('.photo-container');
    upImgBtn.addEventListener('click', () =>{
      upImg.click();
    });
    upImg.addEventListener('change', (event) => {
      const img = document.createElement('img');
      img.classList.add('img-post');
      container.append(img);
      const path = URL.createObjectURL(event.target.files[0]);
      // console.log(path);
      img.setAttribute('src', path);

    });

  </script>

  <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-firestore.js"></script>
  <script type="module" src="firebaseInit.js"></script>
  <script type="module" src="main.js"></script>
</body>
</html>